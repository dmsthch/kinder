<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.cafe24.dmsthch.EducationProject.EducationProjectMapper">
  
  <!-- 테스트 -->
  <insert id="test" parameterType="com.cafe24.dmsthch.EducationProject.Education">
  	INSERT INTO education_project(
  		education_onepage_no
  		,val
  		,license_kindergarten
  		
  	)VALUES(
  		1
  		,#{val}
  		,#{licenseKindergarten}
  	)  	
  </insert>
  
  <select id="selectTest" parameterType="com.cafe24.dmsthch.EducationProject.Education" resultType="String">
  	SELECT
  		val
  	FROM education_project
  	WHERE 
  		education_project_no = 22
  	<!-- AND education_onepage_no=1
  	AND license_kindergarten = ${licenseKindergarten} --> 	
  </select>
  <!-- 테스트끝 -->
  
  
  	<!-- 폼 추가하기 -->
	<insert id="formAdd" parameterType="com.cafe24.dmsthch.EducationProject.EducationForm">
		INSERT INTO education_project_form(
  		form_order
  		,license_kindergarten
  		,form_val
  	)VALUES(
  		(
  			SELECT * FROM
	  		(SELECT COUNT(form_no)
	  		FROM education_project_form
	  		WHERE license_kindergarten = #{licenseKindergarten}) 
	  		as temp
  		) + 1
  		,#{licenseKindergarten}
  		,#{formVal}
  	)
	</insert>
  
  
  
 
  
  </mapper>